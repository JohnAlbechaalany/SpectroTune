% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api.R
\name{st_run}
\alias{st_run}
\title{One-call convenience: preprocess + model}
\usage{
st_run(
  data,
  target,
  preprocess = c("RAW", "ABS", "SNV", "SG0", "SG1", "SG2", "MSC"),
  preprocess_params = list(),
  noise_range = NULL,
  wl_keep = NULL,
  algos = c("PLSR", "SVR"),
  outer_k = 5,
  outer_rep = 2,
  inner_k = 5,
  seed = 42,
  verbose = FALSE
)
}
\arguments{
\item{data}{data.frame with spectral columns named by wavelength (e.g., "400","405",...)}

\item{target}{character, name of the target column in \code{data} (numeric → regression; factor/character → classification)}

\item{preprocess}{character vector of pretreatments to evaluate. Supported: "RAW","ABS","SNV","SG0","SG1","SG2","MSC".}

\item{preprocess_params}{named list of parameter lists per pretreatment, e.g. \code{list(SG1 = list(w=17,p=2,m=1))}.}

\item{noise_range}{optional numeric length-2 range to exclude (e.g., c(700,705))}

\item{wl_keep}{optional length-2 numeric or list of ranges to keep}

\item{algos}{character vector of algorithms. Regression: "PLSR","SVR","GLMNET","RIDGE","KRR_RBF","RF","XGB_PCA". Classification: "SVM","GLMNET","RF","XGB_PCA".}

\item{outer_k, outer_rep, inner_k}{integers controlling outer/inner folds and repeats}

\item{seed}{integer seed for reproducibility}

\item{verbose}{logical, print progress bars/messages}
}
\value{
list with: \code{results} (OOF predictions), \code{summary} (metrics per pipeline), \code{best} (top row)
}
\description{
Runs spectral pretreatment(s) and nested cross‑validation with selected algorithms.
}
\examples{
# Regression
# fit <- st_run(df, target = "Age", preprocess = c("ABS","SG1"),
#               preprocess_params = list(SG1 = list(w=17,p=2,m=1)),
#               algos = c("PLSR","SVR"), outer_k=5, inner_k=5, outer_rep=2)

# Classification
# df$Class <- as.factor(df$Class)
# fit <- st_run(df, target = "Class", preprocess = c("ABS","SG1"),
#               algos = c("SVM","GLMNET"), outer_k=5, inner_k=5, outer_rep=2)

}
